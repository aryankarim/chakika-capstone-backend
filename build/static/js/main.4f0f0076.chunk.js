(this.webpackJsonpcapstone=this.webpackJsonpcapstone||[]).push([[0],{16:function(e,t,a){},43:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(22),s=a.n(r),o=a(8),i=a(6),l=a(5),d=a(0);var u=function(){var e=Object(l.c)((function(e){return e.cartReducer}));return Object(d.jsxs)("nav",{children:[Object(d.jsx)(o.b,{to:"/",className:"logo",children:Object(d.jsx)("img",{src:"data:image/png;base64,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",alt:"logo"})}),Object(d.jsx)("label",{className:"menu-icon",htmlFor:"menu-btn",children:Object(d.jsx)("span",{className:"nav-icon"})}),Object(d.jsxs)("ul",{className:"menu",children:[Object(d.jsx)("li",{children:Object(d.jsx)(o.b,{to:"/",children:"Home"})}),Object(d.jsx)("li",{children:Object(d.jsx)(o.b,{to:"/garage",children:"Garage"})}),Object(d.jsx)("li",{children:Object(d.jsx)(o.b,{to:"/account",children:"Account"})}),Object(d.jsx)("li",{children:Object(d.jsx)(o.b,{to:"/contact",children:"Contact Us"})}),Object(d.jsx)("li",{children:Object(d.jsx)(o.b,{to:"/search",children:"Search"})}),Object(d.jsx)("li",{children:Object(d.jsxs)(o.b,{to:"/cart",children:["Cart",Object(d.jsxs)("div",{className:"cart-navbar",children:["\xa0(",e.length,")"]})]})})]})]})};var j=function(){return Object(d.jsx)("div",{className:"home-how-it-works",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h2",{children:"How Chakika Works"}),Object(d.jsxs)("div",{className:"home-flex",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"fas fa-car-crash"}),Object(d.jsx)("h4",{children:"Provide Car Services"}),Object(d.jsx)("p",{children:"We provide any car related services"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"fas fa-wrench"}),Object(d.jsx)("h4",{children:"Fix Any Car Related Problems"}),Object(d.jsx)("p",{children:"We fix any car related problems, repair and replace car parts"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"fas fa-shopping-cart"}),Object(d.jsx)("h4",{children:"Provide Car Parts"}),Object(d.jsx)("p",{children:"Chakika is also an e-commerce website to buy car parts of your own wish"})]})]})]})})};var h=function(){return Object(d.jsx)("div",{className:"home-header",children:Object(d.jsxs)("div",{className:"home-header-intro",children:[Object(d.jsx)("p",{children:"Having a car problem ?"}),Object(d.jsx)("h1",{children:Object(d.jsx)("span",{children:"We've Got You Covered"})}),Object(d.jsx)("p",{className:"home-header-details",children:"If you're having any car related problems, and you want to fix it straight away, Chakika is the way to go, learn about Chakika, and how we serve our customers"}),Object(d.jsx)(o.b,{to:"/contact",className:"home-header-btn",children:"Contact Us"})]})})},b=a.p+"static/media/hero.0a6ffe37.png";var m=function(){return Object(d.jsxs)("div",{className:"home-about",children:[Object(d.jsx)("div",{className:"home-about-model",children:Object(d.jsx)("img",{src:b,alt:""})}),Object(d.jsxs)("div",{className:"home-about-text",children:[Object(d.jsx)("h2",{children:"What is Chakika?"}),Object(d.jsx)("p",{children:"Chakika will be a web application for the local community in Kurdistan and possibly in Iraq in the long term. Chakika will most likely be the first online service working on remote cars by sending dedicated technicians or mechanics. This will help in avoiding the frustration of going into the market of industrial zones in the Kurdish cities.  Chakika users will be able to choose the product of their choice, and Chakika will help provide the chosen product with the best quality and most affordable price in the market, and users have the option to only get the item that they bought or acquire the chakika staff to take care of the service of applying the chosen product to the user\u2019s car."})]})]})};a(16);function O(){return Object(d.jsx)("div",{className:"main-footer",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"foot-row",children:[Object(d.jsxs)("div",{className:"footer-col",children:[Object(d.jsx)("h2",{children:"Chakika"}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:"We are here to"}),Object(d.jsx)("li",{children:"make your lives easier"})]})]}),Object(d.jsxs)("div",{className:"footer-col",children:[Object(d.jsx)("h2",{children:"Contacts"}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:"Sulaimaniyah"}),Object(d.jsx)("li",{children:"555-0505"})]})]}),Object(d.jsxs)("div",{className:"footer-col",children:[Object(d.jsx)("h2",{children:"Feedback"}),Object(d.jsx)("ul",{children:Object(d.jsx)("li",{children:"Make sure to send us your feedback, we will greet them with warm arms"})})]})]}),Object(d.jsx)("hr",{}),Object(d.jsx)("div",{className:"footer-row",children:Object(d.jsxs)("span",{className:"footer-col-u",children:["\xa9",(new Date).getFullYear()," Chakika"]})})]})})}var p=a(2),g=a(44),x=a.n(g),f=a.p+"static/media/cp2.8614a0c2.png",v=(a(73),a(74),a(26)),N=a.n(v),k=N.a.mixin({toast:!0,position:"bottom-right",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",N.a.stopTimer),e.addEventListener("mouseleave",N.a.resumeTimer)}}),y=function(e,t){k.fire({icon:e,title:t})},C=a(4),_=a.n(C),S=function(e){return{type:"ADD_TO_CART",payload:e}};function A(){var e=Object(l.c)((function(e){return e.discountReducer})),t=Object(l.b)(),a=Object(l.c)((function(e){return e.cartReducer}));return console.log(e),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{className:"contact-header",children:"Weekly discounts"}),Object(d.jsx)("div",{className:"slider-container",children:Object(d.jsx)(x.a,Object(p.a)(Object(p.a)({},{dots:!0,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,cssEase:"linear",arrow:!0}),{},{children:e.map((function(e){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"slider-text",children:[Object(d.jsx)("h2",{children:e.product_name}),Object(d.jsxs)("p",{className:"home-header-details",children:[Object(d.jsxs)("span",{className:"initial-price",children:["$ ",e.unit_price]})," \xa0 Now just for",Object(d.jsxs)("span",{className:"newPrice",children:[" $",Math.round(e.unit_price*(1-e.discount_rate)*100)/100]})]}),Object(d.jsxs)("p",{children:["available in ",e.store_name]}),0===e.stock_quantity?Object(d.jsx)("button",{className:"slider-btn-out",children:"Out of Stock"}):Object(d.jsx)("button",{className:"slider-btn",onClick:function(){return c=e.product_id,n=(1-e.discount_rate)*e.unit_price,r=e.product_name,n=Math.round(100*n)/100,void(a.map((function(e){return e.product_id})).indexOf(c)>-1?y("error","item already in the cart"):_.a.post("https://blooming-citadel-16531.herokuapp.com/cart/add",{productId:c,productPrice:n},{headers:{authorization:"Bearer "+localStorage.getItem("Chakika_token")}}).then((function(e){y("success",e.data.message),t(S({product_id:c,product_name:r,price:n,quantity:1,total:n}))})).catch((function(e){y("error",e.response.data.message),console.log("request not added",e)})));var c,n,r},children:"Add to Cart"})]}),Object(d.jsx)("img",{width:"40%",alt:"",src:f,className:"slider-img"})]},e.product_id)}))}))})]})}function E(){var e=Object(l.c)((function(e){return e.discountReducer}));return Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{}),0===e.length?Object(d.jsx)(h,{}):Object(d.jsx)(A,{}),Object(d.jsx)(j,{}),Object(d.jsx)(m,{}),Object(d.jsx)(O,{})]})}var w=a(7),R=a(13),I=a(20),F=a.n(I),T=a(33),U=a(45),D=a(46),B=new(function(){function e(){Object(U.a)(this,e),this.authenticated=!1,this.email="",this.name=""}return Object(D.a)(e,[{key:"login",value:function(){var e=Object(T.a)(F.a.mark((function e(t,a){var c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://blooming-citadel-16531.herokuapp.com/user/login",e.next=4,_.a.post("https://blooming-citadel-16531.herokuapp.com/user/login",{email:t,password:a});case 4:return c=e.sent,e.abrupt("return",c);case 8:if(e.prev=8,e.t0=e.catch(0),!e.t0.response.data.message){e.next=14;break}return y("error",e.t0.response.data.message),this.authenticated=!1,e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"logout",value:function(){this.authenticated=!1}},{key:"isAuthenticated",value:function(){var e=Object(T.a)(F.a.mark((function e(){var t=this;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("https://blooming-citadel-16531.herokuapp.com/authenticate",{headers:{authorization:"Bearer "+localStorage.getItem("Chakika_token")}}).then((function(e){t.authenticated=!0,console.log("in isAuthenticated")})).catch((function(e){console.log("in the err part",e),t.authenticated=!1}));case 3:return console.log("something"),e.abrupt("return",this.authenticated);case 7:return e.prev=7,e.t0=e.catch(0),console.log("new err"),this.authenticated=!1,e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}]),e}());a(43);function L(e){var t=Object(c.useState)({email:"",password:""}),a=Object(w.a)(t,2),n=a[0],r=a[1],s=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,c=t.name;r((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(R.a)({},c,a))})),console.log(n)};return Object(d.jsx)("div",{className:"register-form-center",children:Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault(),B.login(n.email,n.password).then((function(t){console.log(t),y("success",t.data.message),localStorage.setItem("chakika_fullname",t.data.name),localStorage.setItem("chakika_email",t.data.email),B.authenticated=!0,localStorage.setItem("Chakika_token",t.data.token),e.history.push("/")})).catch((function(e){console.log(e)}))},className:"register-form-fields",children:[Object(d.jsxs)("div",{className:"register-form-field",children:[Object(d.jsx)("label",{className:"register-form-label",htmlFor:"email",children:"E-Mail Address"}),Object(d.jsx)("input",{type:"email",id:"email",className:"register-form-input",placeholder:"Enter your email",name:"email",value:n.email,onChange:s})]}),Object(d.jsxs)("div",{className:"register-form-field",children:[Object(d.jsx)("label",{className:"register-form-label",htmlFor:"password",children:"Password"}),Object(d.jsx)("input",{type:"password",id:"password",className:"register-form-input",placeholder:"Enter your password",name:"password",value:n.password,onChange:s})]}),Object(d.jsx)("div",{className:"register-form-field",children:Object(d.jsx)("button",{className:"regitser-form-btn",children:"Sign In"})})]})})}function M(e){var t=Object(c.useState)({email:"",password:"",repeatpassword:"",fname:"",lname:"",location:null,phone:""}),a=Object(w.a)(t,2),n=a[0],r=a[1],s=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,c=t.name;r((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(R.a)({},c,a))})),console.log(n)};return Object(d.jsx)("div",{className:"register-form-center",children:Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault(),console.log("The form was submitted with the following data:"),_.a.post("https://blooming-citadel-16531.herokuapp.com/user/register",n).then((function(t){y("success",t.data.message),console.log(e),e.signin(),console.log("register success")})).catch((function(e){y("error",e.response.data.message),console.log("register failed",e)}))},className:"register-form-fields",children:[Object(d.jsxs)("div",{className:"register-form-field",id:"names",children:[Object(d.jsx)("label",{className:"register-form-label",htmlFor:"fname",children:"First Name"}),Object(d.jsx)("input",{type:"text",id:"fname",className:"register-form-input",placeholder:"Enter your first name",name:"fname",value:n.fname,onChange:s})]}),Object(d.jsxs)("div",{className:"register-form-field",id:"names",children:[Object(d.jsx)("label",{className:"register-form-label",htmlFor:"lname",children:"Last Name"}),Object(d.jsx)("input",{type:"text",id:"lname",className:"register-form-input",placeholder:"Enter your last name",name:"lname",value:n.lname,onChange:s})]}),Object(d.jsxs)("div",{className:"register-form-field",children:[Object(d.jsx)("label",{className:"register-form-label",htmlFor:"password",children:"Password"}),Object(d.jsx)("input",{type:"password",id:"password",className:"register-form-input",placeholder:"Enter your password",name:"password",value:n.password,onChange:s})]}),Object(d.jsxs)("div",{className:"register-form-field",children:[Object(d.jsx)("label",{className:"register-form-label",htmlFor:"repeatpassword",children:"Repeat Password"}),Object(d.jsx)("input",{type:"password",id:"repeatpassword",className:"register-form-input",placeholder:"Enter your password again",name:"repeatpassword",value:n.repeatpassword,onChange:s})]}),Object(d.jsxs)("div",{className:"register-form-field",children:[Object(d.jsx)("label",{className:"register-form-label",htmlFor:"email",children:"E-Mail Address"}),Object(d.jsx)("input",{type:"email",id:"email",className:"register-form-input",placeholder:"Enter your email",name:"email",value:n.email,onChange:s})]}),Object(d.jsxs)("div",{className:"register-form-field",children:[Object(d.jsx)("label",{className:"register-form-label",htmlFor:"phone",children:"Phone Number"}),Object(d.jsx)("input",{type:"text",id:"phone",className:"register-form-input",placeholder:"Enter your Phone Number",name:"phone",value:n.num,onChange:s})]}),Object(d.jsx)("div",{className:"register-form-field",children:Object(d.jsx)("button",{className:"regitser-form-btn",children:"Sign Up"})})]})})}var q=a.p+"static/media/header-bgfliped.475248c9.png";function G(e){var t=Object(c.useState)(!0),a=Object(w.a)(t,2),n=a[0],r=a[1],s=function(){!1===n&&r((function(e){return!e}))};return Object(d.jsxs)("div",{className:"register",children:[Object(d.jsx)("div",{className:"register-side",children:Object(d.jsx)(o.b,{to:"/",className:"register-side-logo"})}),Object(d.jsx)("img",{src:q,alt:"",className:"register-side-img"}),Object(d.jsxs)("div",{className:"register-form",children:[Object(d.jsxs)("div",{className:"register-login",children:[Object(d.jsx)("button",{onClick:s,className:"register-login-item",children:"Sign In"}),Object(d.jsx)("button",{onClick:function(){!0===n&&r((function(e){return!e}))},className:"register-login-item",children:"Sign Up"})]}),Object(d.jsx)("div",{className:"register-form-title",children:n?Object(d.jsx)(L,Object(p.a)({},e)):Object(d.jsx)(M,{signin:s})})]})]})}var H=a(48);function Z(e){var t=e.component,a=Object(H.a)(e,["component"]),n=Object(c.useState)("pending"),r=Object(w.a)(n,2),s=r[0],o=r[1],u=Object(l.b)();return Object(c.useEffect)((function(){B.isAuthenticated().then((function(e){!0===e?(o("authenticated"),function(){var e=function(){return function(e){e({type:"LOADING_FOR_CART_ITEMS"}),_.a.get("https://blooming-citadel-16531.herokuapp.com/cart/allItems",{headers:{authorization:"Bearer "+localStorage.getItem("Chakika_token")}}).then((function(t){e({type:"FETCH_CART_SUCCESSFUL",payload:t.data.message})})).catch((function(e){y("error",e)}))}};function t(){return function(e){e({type:"LOADING_FOR_DISCOUNT_ITEMS"}),_.a.get("https://blooming-citadel-16531.herokuapp.com/discount/",{headers:{authorization:"Bearer "+localStorage.getItem("Chakika_token")}}).then((function(t){e({type:"FETCH_DISCOUNT_SUCCESSFUL",payload:t.data.message})})).catch((function(e){console.log("error discount items",e)}))}}u(e()),u(t())}()):o("unauthenticated"),console.log("in auth then"),console.log(e)})).catch((function(){console.log("data fetch err")}))}),[u]),Object(c.useEffect)((function(){u((function(e){e({type:"LOADING_FOR_GARAGE_ITEMS"});var t={headers:{authorization:"Bearer "+localStorage.getItem("Chakika_token")}};_.a.get("https://blooming-citadel-16531.herokuapp.com/category/categories",t).then((function(t){var a=t.data.message;e({type:"FETCH_GARAGE_SUCCESSFUL",payload:Object(p.a)({},a)}),console.log(a)})).catch((function(e){console.log(e)}))}))}),[u]),"pending"===s?Object(d.jsx)("div",{className:"loader"}):Object(d.jsx)(i.b,Object(p.a)(Object(p.a)({},a),{},{render:function(e){return"authenticated"===s?Object(d.jsx)(t,Object(p.a)({},e)):Object(d.jsx)(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var z=function(e){var t=Object(l.b)(),a=Object(l.c)((function(e){return e.cartReducer})),c=e.searchResult.map((function(e,c){return Object(d.jsxs)("div",{className:"search-result",children:[Object(d.jsx)("div",{className:"search-result-img",children:Object(d.jsx)("img",{src:"http://pngimg.com/uploads/car_wheel/car_wheel_PNG23321.png",alt:""})}),Object(d.jsxs)("div",{className:"search-result-header",children:[Object(d.jsx)("h2",{children:e.product_name}),Object(d.jsx)("p",{children:e.brand_name+" "+e.model_name+" "+e.model_year}),Object(d.jsxs)("p",{children:["available in ",e.store_name]}),Object(d.jsxs)("p",{className:"price",children:[e.unit_price,Object(d.jsx)("span",{children:"$"}),0!==e.discount_rate?Object(d.jsxs)("span",{className:"discount-rate",children:["\xa0-%",Math.round(1e4*e.discount_rate)/100,"\xa0"]}):""]}),0===e.stock_quantity?Object(d.jsx)("button",{className:"slider-btn-out",children:"Out of Stock"}):Object(d.jsx)("button",{className:"search-result-btn",onClick:function(){return function(e,c,n){if(c=Math.round(100*c)/100,a.map((function(e){return e.product_id})).indexOf(e)>-1)return void y("error","item already in the cart");var r={headers:{authorization:"Bearer "+localStorage.getItem("Chakika_token")}};_.a.post("https://blooming-citadel-16531.herokuapp.com/cart/add",{productId:e,productPrice:c},r).then((function(a){y("success",a.data.message),t(S({product_id:e,product_name:n,price:c,quantity:1,total:c}))})).catch((function(e){y("error",e.response.data.message),console.log("request not added",e)}))}(e.product_id,(1-e.discount_rate)*e.unit_price,e.product_name)},children:"Add to Cart"})]})]},c)}));return Object(d.jsx)("div",{className:"search-display",children:c})};var P=function(){var e=Object(c.useState)({search:""}),t=Object(w.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)([]),s=Object(w.a)(r,2),o=s[0],i=s[1];return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"search-header",children:[Object(d.jsx)("h3",{children:"Search For Your Need"}),Object(d.jsxs)("div",{className:"search-input",children:[Object(d.jsx)("input",{type:"text",placeholder:"Search Here ...",name:"search",value:a.search,onChange:function(e){var t=e.target,c=t.value,r=t.name;n((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(R.a)({},r,c))})),console.log(a)}}),Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),""!==a.search?_.a.get("https://blooming-citadel-16531.herokuapp.com/search",{headers:{authorization:"Bearer "+localStorage.getItem("Chakika_token")},params:a}).then((function(e){i((function(t){return e.data})),console.log(e.data),document.getElementById("search-result").innerHTML=" &nbsp; showing the result of: "+a.search})).catch((function(e){i((function(e){return[]})),document.getElementById("search-result").innerHTML=" &nbsp; no item was found for: "+a.search})):y("error","fields cannot be empty!")},children:"Search"})]})]}),Object(d.jsx)("p",{id:"search-result",children:" "}),Object(d.jsx)(z,{searchResult:o})]})};function X(){return Object(d.jsxs)("div",{className:"s-container",children:[Object(d.jsx)(u,{}),Object(d.jsx)(P,{}),Object(d.jsx)(O,{})]})}function K(){var e=Object(l.b)();return Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"account-profile shadow account",children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"account-center account-top",children:[Object(d.jsxs)("h3",{children:[localStorage.getItem("chakika_fullname")," "]}),Object(d.jsx)("div",{className:"account-element"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("i",{}),localStorage.getItem("chakika_email")]})]}),Object(d.jsx)("div",{className:"account-top account-bottom border-top account-center",children:Object(d.jsx)("div",{className:"justify-account-center",children:Object(d.jsx)("div",{children:Object(d.jsx)("div",{children:Object(d.jsx)(o.b,{to:"/login",className:"logOutButton",onClick:function(){localStorage.removeItem("Chakika_token"),e({type:"DELETE_CART"})},children:"Log Out"})})})})})]})})})}function Y(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{}),Object(d.jsx)(K,{}),Object(d.jsx)(O,{})]})}function Q(){var e=Object(c.useState)({name:null,phone:null,subject:null,message:null}),t=Object(w.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!0),s=Object(w.a)(r,2),o=s[0],i=s[1],l=function(e){var t=e.target,c=t.value,r=t.name;""===c&&(c=null),n((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(R.a)({},r,c))})),console.log(a)};return Object(d.jsxs)("div",{children:[Object(d.jsxs)("h2",{className:"contact-header",children:["Can't Find What You're Looking For? ",Object(d.jsx)("br",{}),"Send Us Your Custom Order"]}),Object(d.jsx)("div",{className:"Contact-container",children:Object(d.jsx)("form",{className:"contact-form",children:Object(d.jsxs)("div",{className:"contact-row",children:[Object(d.jsx)("div",{className:"contact-column contact-form-group",children:Object(d.jsx)("input",{type:"text",className:"form-control",name:"name",onChange:l,placeholder:"Name"})}),Object(d.jsx)("div",{className:"contact-column contact-form-group",children:Object(d.jsx)("input",{type:"tel",className:"form-control",name:"phone",onChange:l,placeholder:"Phone"})}),Object(d.jsx)("div",{className:"contact-column contact-form-group",children:Object(d.jsx)("input",{type:"text",className:"form-control",name:"subject",onChange:l,placeholder:"Subject"})}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"contact-form-group",children:Object(d.jsx)("textarea",{className:"form-control",name:"message",onChange:l,placeholder:"Message"})}),Object(d.jsx)("br",{}),o?Object(d.jsx)("button",{className:"contact-btn",onClick:function(e){e.preventDefault();var t={headers:{authorization:"Bearer "+localStorage.getItem("Chakika_token")}};_.a.post("https://blooming-citadel-16531.herokuapp.com/request/",a,t).then((function(e){y("success",e.data.message),i((function(e){return!e}))})).catch((function(e){y("error",e.response.data.message),console.log("request not added",e)}))},children:"Submit"}):Object(d.jsx)("p",{children:"request successfully submited!"})]})})})]})}function W(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{}),Object(d.jsx)(Q,{}),Object(d.jsx)(O,{})]})}var J=a(25);function V(e){var t=Object(c.useState)({}),a=Object(w.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)([]),o=Object(w.a)(s,2),i=o[0],l=o[1],u=Object(c.useState)(!1),j=Object(w.a)(u,2),h=j[0],b=j[1],m=function(e){var t=e.target,a=t.value,c=t.name;"brand"===c&&a!==n.brand&&O(),"model"!==c&&"year"!==c||a!==n.model&&O(),""===a&&(a=null),r((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(R.a)({},c,a))}))},O=function(){h&&_.a.delete("https://blooming-citadel-16531.herokuapp.com/category/delete",{headers:{authorization:"Bearer "+localStorage.getItem("Chakika_token")},data:{brand:n.brand,model:n.model}}).then((function(e){b((function(e){return!1})),console.log("delete success")})).catch((function(e){}))};return Object(c.useEffect)((function(){e.saved&&r((function(t){return{brand:e.saved.brand_id+"@#"+e.saved.brand_name,model:e.saved.model_id+"@#"+e.saved.model_name,year:e.saved.model_year+""}}))}),[e.saved]),Object(c.useEffect)((function(){null!==e.saved.brand_id&&b((function(e){return!e}))}),[e.saved.brand_id]),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"grid-container",children:[Object(d.jsx)("div",{className:"option-grid",children:h?Object(d.jsx)("button",{className:"grid-row-btn",onClick:O,children:"remove"}):Object(d.jsx)("button",{className:"grid-row-btn",onClick:function(){_.a.put("https://blooming-citadel-16531.herokuapp.com/category/save",{brand:n.brand,model:n.model},{headers:{authorization:"Bearer "+localStorage.getItem("Chakika_token")}}).then((function(e){b((function(e){return!0})),console.log("save success")})).catch((function(e){}))},children:"Save"})}),Object(d.jsx)("div",{className:"option-grid",children:Object(d.jsxs)("select",{className:"select-grid",name:"brand",onChange:m,children:[Object(d.jsx)("option",{selected:!0,disabled:!0,children:"BRAND"}),e.brand.map((function(t,a){return e.saved&&e.saved.brand_id===t.brand_id?Object(d.jsx)("option",{value:t.brand_id+"@#"+t.brand_name,selected:!0,children:t.brand_name},t.brand_id):Object(d.jsx)("option",{value:t.brand_id+"@#"+t.brand_name,children:t.brand_name},t.brand_id)}))]})}),Object(d.jsx)("div",{className:"option-grid",children:Object(d.jsxs)("select",{className:"select-grid",name:"model",onChange:m,children:[Object(d.jsx)("option",{selected:!0,disabled:!0,children:"MODEL"}),e.model.map((function(t,a){return e.saved&&e.saved.model_id===t.model_id?Object(d.jsx)("option",{value:t.model_id+"@#"+t.model_name,selected:!0,children:t.model_name},t.model_id):Object(d.jsx)("option",{value:t.model_id+"@#"+t.model_name,children:t.model_name},t.model_id)}))]})}),Object(d.jsx)("div",{className:"option-grid",children:Object(d.jsxs)("select",{className:"select-grid",name:"year",onChange:m,children:[Object(d.jsx)("option",{selected:!0,disabled:!0,children:"YEAR"}),e.year.map((function(t,a){return e.saved&&e.saved.model_year===t.model_year?Object(d.jsx)("option",{value:t.model_year,selected:!0,children:t.model_year},a):Object(d.jsx)("option",{value:t.model_year,children:t.model_year},a)}))]})}),Object(d.jsx)("div",{className:"option-grid",children:Object(d.jsxs)("select",{className:"select-grid",name:"category",onChange:m,children:[Object(d.jsx)("option",{selected:!0,disabled:!0,children:"Search By Category"}),Object(d.jsx)("option",{value:"interior",children:"interior"}),Object(d.jsx)("option",{value:"exterior",children:"exterior"}),Object(d.jsx)("option",{value:"wheels",children:"wheels"})]})}),Object(d.jsx)("div",{className:"option-grid",children:Object(d.jsx)("button",{className:"grid-row-btn",onClick:function(){_.a.get("https://blooming-citadel-16531.herokuapp.com/category/results",{headers:{authorization:"Bearer "+localStorage.getItem("Chakika_token")},params:n}).then((function(e){l((function(t){return e.data.message}))})).catch((function(e){y("error",e.response.data.message),console.log(e,"err occured in garageselect")}))},children:"Search"})})]}),Object(d.jsx)(z,{searchResult:i})]})}function $(){var e=Object(l.c)((function(e){return e.garageReducer.brands})),t=Object(l.c)((function(e){return e.garageReducer.models})),a=Object(l.c)((function(e){return e.garageReducer.years})),n=Object(c.useState)([]),r=Object(w.a)(n,2),s=r[0],o=r[1];return Object(c.useEffect)((function(){_.a.get("https://blooming-citadel-16531.herokuapp.com/category/garagecars",{headers:{authorization:"Bearer "+localStorage.getItem("Chakika_token")}}).then((function(e){o((function(t){return e.data.message}))})).catch((function(e){console.log("err occured in useeffect garagesection function")}))}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"garage-heading",children:"Welcome To Your Garage"}),s.map((function(c,n){return function(c){return Object(d.jsx)(V,{brand:e,model:t,year:a,saved:c})}(c)})),s.length<5?Object(d.jsx)("button",{className:"plus-grid",onClick:function(){o((function(e){return[].concat(Object(J.a)(e),[{brand_id:null,brand_name:null,model_id:null,model_name:null,model_year:null,user_id:null}])}))},children:"Add Car"}):Object(d.jsx)("p",{className:"paragraph-grid",children:" You can not add more than 5 cars"})]})}function ee(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{}),Object(d.jsx)($,{}),Object(d.jsx)(O,{})]})}function te(e){var t=Object(l.b)(),a=Object(l.c)((function(e){return e.cartReducer}));console.log(e);var c=a.map((function(e){return Object(d.jsx)("tbody",{children:Object(d.jsxs)("tr",{className:"cart-item",children:[Object(d.jsx)("td",{className:"cart-item-name",children:Object(d.jsxs)("h3",{children:[" ",e.product_name," ",Object(d.jsx)("button",{onClick:function(){var a;a=e.product_id,_.a.delete("https://blooming-citadel-16531.herokuapp.com/cart/remove",{headers:{authorization:"Bearer "+localStorage.getItem("Chakika_token")},data:{product_id:a}}).then((function(e){t({type:"REMOVE_FROM_CART",payload:a}),y("success","Item removed"),console.log(e)})).catch((function(e){console.log(e)}))},className:"cart-item-remove",children:"(Remove)"})," "]})}),Object(d.jsx)("td",{children:Object(d.jsx)("img",{alt:"",className:"cart-item-img",src:"http://pngimg.com/uploads/car_wheel/car_wheel_PNG23321.png"})}),Object(d.jsx)("td",{className:"cart-item-price",children:Object(d.jsxs)("div",{children:["$",e.price]})}),Object(d.jsx)("td",{className:"cart-item-quantity",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{className:"number-button",onClick:function(){t({type:"DECREMENT",payload:e.product_id})},children:"-"}),Object(d.jsx)("h6",{className:"cart-item-quantity-input",children:e.quantity}),Object(d.jsx)("button",{className:"number-button",onClick:function(){t({type:"INCREMENT",payload:e.product_id})},children:"+"})]})}),Object(d.jsx)("td",{className:"cart-item-total",children:Object(d.jsxs)("h3",{children:["$",Math.round(e.price*e.quantity*100)/100]})})]},e.product_id)},e.product_id)}));if("loading"===a[0])return Object(d.jsx)("div",{className:"loader"});return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{className:"cart-header",children:"Your Cart"}),Object(d.jsxs)("div",{className:"cart-container",children:[Object(d.jsxs)("table",{className:"cart-table",children:[Object(d.jsxs)("thead",{className:"cart-table-head",children:[Object(d.jsx)("th",{className:"cart-table-heading",children:"Product"}),Object(d.jsx)("th",{className:"cart-table-heading",children:"\xa0"}),Object(d.jsx)("th",{className:"cart-table-heading",children:"Price"}),Object(d.jsx)("th",{className:"cart-table-heading",children:"Quantity"}),Object(d.jsx)("th",{className:"cart-table-heading",children:"Total"})]}),c]}),Object(d.jsxs)("div",{className:"cart-bottom",children:[Object(d.jsx)("button",{className:"cart-button-clear",onClick:function(){0!==a.length?_.a.delete("https://blooming-citadel-16531.herokuapp.com/cart/removeAll",{headers:{authorization:"Bearer "+localStorage.getItem("Chakika_token")}}).then((function(){y("success","All items removed"),t({type:"DELETE_CART"})})).catch((function(e){console.log(e)})):y("error","No items to delete")},children:"clear all"}),Object(d.jsxs)("button",{className:"cart-bottom-total",children:["$",Math.round(100*a.reduce((function(e,t){return e+t.price*t.quantity}),0))/100]})]})]})]})}function ae(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{}),Object(d.jsx)(te,{}),Object(d.jsx)(O,{})]})}var ce=function(){return Object(d.jsx)(o.a,{children:Object(d.jsxs)(i.d,{children:[Object(d.jsx)(Z,{path:"/",component:E,exact:!0}),Object(d.jsx)(i.b,{path:"/login",component:G,exact:!0}),Object(d.jsx)(Z,{path:"/search",component:X,exact:!0}),Object(d.jsx)(Z,{path:"/account",component:Y,exact:!0}),Object(d.jsx)(Z,{path:"/contact",component:W,exact:!0}),Object(d.jsx)(Z,{path:"/garage",component:ee,exact:!0}),Object(d.jsx)(Z,{path:"/cart",component:ae,exact:!0}),Object(d.jsx)(i.b,{path:"*",render:function(){return Object(d.jsx)("div",{id:"notfound",children:"NOT FOUND 404"})}})]})})},ne=a(27),re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return[].concat(Object(J.a)(e),[t.payload]);case"REMOVE_FROM_CART":return e.filter((function(e){return e.product_id!==t.payload}));case"DELETE_CART":return[];case"FETCH_CART_SUCCESSFUL":return e=t.payload;case"LOADING_FOR_CART_ITEMS":return e=["loading"];case"INCREMENT":return console.log(e),e.map((function(e){return e.product_id===t.payload?20===e.quantity?Object(p.a)({},e):Object(p.a)(Object(p.a)({},e),{},{quantity:e.quantity+1}):e}));case"DECREMENT":return e.map((function(e){return e.product_id===t.payload?1===e.quantity?Object(p.a)({},e):Object(p.a)(Object(p.a)({},e),{},{quantity:e.quantity-1}):e}));default:return e}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DISCOUNT_SUCCESSFUL":return e=t.payload;case"LOADING_FOR_DISCOUNT_ITEMS":return e=[];default:return e}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{brands:[],models:[],years:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GARAGE_SUCCESSFUL":return e=t.payload;case"LOADING_FOR_GARAGE_ITEMS":default:return e}},ie=a(47),le=Object(ne.b)({cartReducer:re,discountReducer:se,garageReducer:oe}),de=Object(ne.c)(le,Object(ne.a)(ie.a));s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(l.a,{store:de,children:Object(d.jsx)(ce,{})})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.4f0f0076.chunk.js.map